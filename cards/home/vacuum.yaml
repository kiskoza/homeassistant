- type: vertical-stack
  cards:
  - type: picture-elements
    image: /local/cards/vacuum.jpeg
    elements:
    - type: icon
      icon: mdi:play
      tap_action:
        action: call-service
        service: vacuum.start
        service_data:
          entity_id: vacuum.xiaomi_vacuum_cleaner
      style:
        top: 90%
        left: 25%
        "--paper-item-icon-color": black
    - type: icon
      icon: mdi:stop
      tap_action:
        action: call-service
        service: vacuum.stop
        service_data:
          entity_id: vacuum.xiaomi_vacuum_cleaner
      style:
        top: 90%
        left: 35%
        "--paper-item-icon-color": black
    - type: icon
      tap_action:
        action: call-service
        service: vacuum.return_to_base
        service_data:
          entity_id: vacuum.xiaomi_vacuum_cleaner
      icon: mdi:home
      style:
        top: 90%
        left: 45%
        "--paper-item-icon-color": black
    - type: state-icon
      entity: sensor.vacuum_floorplan
      style:
        top: 90%
        left: 55%
        "--paper-item-icon-color": black
    - type: icon
      icon: mdi:bell-ring
      tap_action:
        action: call-service
        service: vacuum.locate
        service_data:
          entity_id: vacuum.xiaomi_vacuum_cleaner
      style:
        top: 90%
        left: 65%
        "--paper-item-icon-color": black
    - type: state-icon
      entity: sensor.vacuum_maintenance
      style:
        top: 90%
        left: 75%
        "--paper-item-icon-color": black

    - type: state-label
      entity: vacuum.xiaomi_vacuum_cleaner
      style:
        top: 10%
        left: 48%
        font-size: 150%
        text-shadow: 1px 1px white
        font-family: Trebuchet MS
    - type: state-label
      entity: sensor.vacuum_main_brush
      style:
        top: 30%
        right: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-right-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_side_brush
      style:
        top: 45%
        right: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-right-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_filter
      style:
        top: 60%
        right: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-right-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_sensor
      style:
        top: 75%
        right: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-right-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_status
      style:
        top: 30%
        left: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-left-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_battery
      style:
        top: 45%
        left: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-left-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: state-label
      entity: sensor.vacuum_weekdays
      style:
        top: 60%
        left: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-left-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: image
      entity: automation.cleaning_schedule_weekdays
      image: /local/icons/timer-off.png
      state_image:
        'on': /local/icons/timer-on.png
      style:
       top: 60%
       left: 7em
    - type: state-label
      entity: sensor.vacuum_weekend
      style:
        top: 75%
        left: 1%
        color: rgb(255, 255, 255)
        transform: translate(0%,-50%)
        pointer-events: none
        text-shadow: 1px 1px black
        font-family: Trebuchet MS
        font-size: 90%
        font-weight: bold
        border-left-style: solid
        border-color: rgb(34, 154, 210)
        opacity: 0.8
    - type: image
      entity: automation.cleaning_schedule_weekend
      image: /local/icons/timer-off.png
      state_image:
        'on': /local/icons/timer-on.png
      style:
       top: 75%
       left: 7em

  - type: custom:popup-card
    entity: automation.cleaning_schedule_weekdays
    title: Cleaning Schedule on Weekdays
    card:
      type: entities
      entities:
        - automation.cleaning_schedule_weekdays
        - sensor.vacuum_start_time_weekdays
        - input_number.vacuum_start_hour_weekdays
        - input_number.vacuum_start_minutes_weekdays

  - type: custom:popup-card
    entity: automation.cleaning_schedule_weekend
    title: Cleaning Schedule on Weekends
    card:
      type: entities
      entities:
        - automation.cleaning_schedule_weekend
        - sensor.vacuum_start_time_weekend
        - input_number.vacuum_start_hour_weekend
        - input_number.vacuum_start_minutes_weekend

  - type: custom:popup-card
    entity: sensor.vacuum_maintenance
    title: Maintenance
    card:
      type: entities
      entities:
        - type: call-service
          name: 'Reset Main Brush'
          icon: mdi:broom
          service: vacuum.send_command
          service_data:
            entity_id: vacuum.xiaomi_vacuum_cleaner
            command: reset_consumable
            params: main_brush_work_time
        - type: call-service
          name: 'Reset Side Brush'
          icon: mdi:broom
          service: vacuum.send_command
          service_data:
            entity_id: vacuum.xiaomi_vacuum_cleaner
            command: reset_consumable
            params: side_brush_work_time
        - type: call-service
          name: 'Reset Filter'
          icon: mdi:air-filter
          service: vacuum.send_command
          service_data:
            entity_id: vacuum.xiaomi_vacuum_cleaner
            command: reset_consumable
            params: filter_work_time
        - type: call-service
          name: 'Reset Sensor Dirty'
          icon: mdi:robot-vacuum
          service: vacuum.send_command
          service_data:
            entity_id: vacuum.xiaomi_vacuum_cleaner
            command: reset_consumable
            params: sensor_dirty_time

  - type: custom:popup-card
    entity: sensor.vacuum_floorplan
    title: Manually clean a room
    card:
      type: picture-elements
      image: /local/cards/floorplan.png
      elements:
        - type: icon
          icon: mdi:broom
          tap_action:
            action: call-service
            service: vacuum.xiaomi_clean_zone
            entity_id: vacuum.xiaomi_vacuum_cleaner
            service_data:
              zone: [[21430,29500,25700,30750]]
              repeats: 1
          style:
            top: 55%
            left: 28%
        - type: icon
          icon: mdi:broom
          tap_action:
            action: call-service
            service: vacuum.xiaomi_clean_zone
            entity_id: vacuum.xiaomi_vacuum_cleaner
            service_data:
              zone: [[25900,29500,27450,31900]]
              repeats: 1
          style:
            top: 18%
            left: 23%
        - type: icon
          icon: mdi:broom
          tap_action:
            action: call-service
            service: vacuum.xiaomi_clean_zone
            entity_id: vacuum.xiaomi_vacuum_cleaner
            service_data:
              zone: [[24550,25150,27400,29100]]
              repeats: 1
          style:
            top: 27%
            left: 56%
        - type: icon
          icon: mdi:broom
          tap_action:
            action: call-service
            service: vacuum.xiaomi_clean_zone
            entity_id: vacuum.xiaomi_vacuum_cleaner
            service_data:
              zone: [[21430,23750,24250,29100]]
              repeats: 1
          style:
            top: 72%
            left: 65%
